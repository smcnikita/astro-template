---
import Layout from "@/layouts/Layout.astro";

import { INDEX_PAGE_DATA } from "@/data/indexPage";

import { transformText } from "@/utils/transformText";

import LinksList from "@/components/LinksList.astro";
import Link from "@/components/Link.astro";
import Title from "@/components/Title.astro";
import SubTitle from "@/components/SubTitle.astro";
import ProjectsList from "@/components/projects/ProjectsList.astro";
import PostList from "@/components/posts/PostList.astro";

const description = transformText(INDEX_PAGE_DATA.description);
---

<Layout>
  <div class="max-w-[500px] flex flex-col gap-3">
    <video
      src="/profile.mp4"
      class="h-[200px] w-[200px] object-cover rounded-full shadow"
      autoplay
      playsinline
      muted
      loop
    >
    </video>

    <Title>{INDEX_PAGE_DATA.title}</Title>

    <Link href={`mailto:${INDEX_PAGE_DATA.email}`} classes="self-start">
      {INDEX_PAGE_DATA.email}
    </Link>

    <p set:html={description} class="" />
  </div>

  <section class="mt-6">
    <LinksList />
  </section>

  <section class="mt-6">
    <SubTitle>Projects</SubTitle>

    <div class="mt-3">
      <ProjectsList />
    </div>
  </section>

  <section class="mt-6">
    <div class="flex items-center justify-between">
      <SubTitle>Blog</SubTitle>
      <small>
        <Link target="_self" href="/blog">All posts</Link>
      </small>
    </div>

    <div class="mt-3">
      <PostList />
    </div>
  </section>
</Layout>
